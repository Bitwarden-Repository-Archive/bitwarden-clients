<label class="tw-sr-only" [for]="id">{{ "search" | i18n }}</label>
<div class="tw-relative">
  <div class="tw-flex tw-flex-grow tw-items-center">
    <label
      [for]="id"
      aria-hidden="true"
      class="tw-absolute tw-left-2 tw-z-20 !tw-mb-0 tw-cursor-text"
    >
      <i class="bwi bwi-search bwi-fw tw-text-muted"></i>
    </label>
    <input
      #input
      bitInput
      [type]="inputType"
      [id]="id"
      [placeholder]="placeholder ?? ('search' | i18n)"
      class="tw-pl-9"
      [ngModel]="searchText"
      (ngModelChange)="onChange($event)"
      (focus)="onFocus()"
      (blur)="onTouch()"
      [disabled]="disabled"
      [attr.autocomplete]="autocomplete"
    />
    <button
      bitSuffix
      type="button"
      bitIconButton="bwi-sliders"
      (click)="filterToggled()"
      [buttonType]=""
    ></button>
  </div>
  <ng-container *ngIf="showHistory">
    <div class="tw-size-full">
      <ul
        class="tw-absolute tw-w-full tw-z-[1000] tw-float-left tw-m-0 tw-pl-0 tw-list-none tw-bg-background tw-overflow-hidden tw-rounded-xl tw-border tw-border-solid tw-border-secondary-300"
        aria-labelledby="dropdownMenuButton1"
        data-twe-dropdown-menu-ref
      >
        <li
          *ngFor="let search of filteredHistory$ | async"
          (click)="writeValue(search); onChange(search); onTouch()"
          class="tw-pl-9 tw-pr-2 tw-block tw-text-ellipsis tw-text-nowrap tw-overflow-hidden hover:tw-bg-background-alt"
        >
          {{ search }}
        </li>
      </ul>
    </div>
  </ng-container>
  <ng-container *ngIf="selectedContent$ | async as content">
    <ng-content [select]="content"></ng-content>
  </ng-container>
</div>
