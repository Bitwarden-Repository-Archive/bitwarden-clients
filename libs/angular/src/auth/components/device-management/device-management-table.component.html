<bit-table-scroll [dataSource]="dataSource" [rowSize]="50">
  <ng-container header>
    <th
      *ngFor="let col of columnConfig"
      [class]="col.headerClass"
      bitCell
      [bitSortable]="col.sortable ? col.name : null"
      [default]="col.name === 'loginStatus' ? 'desc' : null"
      scope="col"
      role="columnheader"
    >
      {{ col.title }}
    </th>
  </ng-container>
  <ng-template bitRowDef let-row>
    <td bitCell class="tw-flex tw-gap-2">
      <div class="tw-flex tw-items-center tw-justify-center tw-w-10">
        <i [class]="getDeviceIcon(row.deviceView.type)" class="bwi-lg" aria-hidden="true"></i>
      </div>
      <div>
        <ng-container *ngIf="hasPendingAuthRequest(row.deviceView)">
          <a bitLink href="#" appStopClick (click)="managePendingAuthRequest(row.deviceView)">
            {{ row.displayName }}
          </a>

          <span class="tw-text-sm tw-text-muted tw-block">
            {{ "needsApproval" | i18n }}
          </span>
        </ng-container>
        <ng-container *ngIf="!hasPendingAuthRequest(row.deviceView)">
          {{ row.displayName }}
          <span
            *ngIf="row.deviceView.response?.isTrusted && !hasPendingAuthRequest(row.deviceView)"
            class="tw-text-sm tw-text-muted tw-block"
          >
            {{ "trusted" | i18n }}
          </span>
        </ng-container>
      </div>
    </td>
    <td bitCell>
      <span *ngIf="isCurrentDevice(row.deviceView)" bitBadge variant="primary">{{
        "currentSession" | i18n
      }}</span>
      <span *ngIf="hasPendingAuthRequest(row.deviceView)" bitBadge variant="warning">{{
        "requestPending" | i18n
      }}</span>
    </td>
    <td bitCell>{{ row.firstLogin | date: "medium" }}</td>
  </ng-template>
</bit-table-scroll>
