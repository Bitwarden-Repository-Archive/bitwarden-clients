<bit-table-scroll [dataSource]="tableDataSource" [rowSize]="50">
  <!-- Table Header -->
  <ng-container header>
    <th
      *ngFor="let column of columnConfig"
      [class]="column.headerClass"
      bitCell
      [bitSortable]="column.sortable ? column.name : null"
      [default]="column.name === 'loginStatus' ? 'desc' : null"
      scope="col"
      role="columnheader"
    >
      {{ column.title }}
    </th>
  </ng-container>

  <!-- Table Rows -->
  <ng-template bitRowDef let-device>
    <!-- Column: Device Name -->
    <td bitCell class="tw-flex tw-gap-2">
      <div class="tw-flex tw-items-center tw-justify-center tw-w-10">
        <i [class]="device.icon" class="bwi-lg" aria-hidden="true"></i>
      </div>

      @if (device.pendingAuthRequest) {
        <a
          bitLink
          href="#"
          appStopClick
          (click)="approveOrDenyAuthRequest(device.pendingAuthRequest)"
        >
          {{ device.displayName }}
        </a>
        <span class="tw-text-sm tw-text-muted tw-block">
          {{ "needsApproval" | i18n }}
        </span>
      } @else {
        <span>{{ device.displayName }}</span>
        <span *ngIf="device.isTrusted" class="tw-text-sm tw-text-muted tw-block">
          {{ "trusted" | i18n }}
        </span>
      }
    </td>

    <!-- Column: Login Status -->
    <td bitCell>
      <span *ngIf="device.isCurrentDevice" bitBadge variant="primary">
        {{ "currentSession" | i18n }}
      </span>
      <span *ngIf="device.pendingAuthRequest" bitBadge variant="warning">
        {{ "requestPending" | i18n }}
      </span>
    </td>

    <!-- Column: First Login -->
    <td bitCell>{{ device.firstLogin | date: "medium" }}</td>
  </ng-template>
</bit-table-scroll>
