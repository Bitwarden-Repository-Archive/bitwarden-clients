<bit-item-group>
  <bit-item *ngFor="let device of devicesToDisplay">
    @if (device.pendingAuthRequest) {
      <button
        bit-item-content
        type="button"
        [attr.tabindex]="device.pendingAuthRequest != null ? 0 : null"
        (click)="managePendingAuthRequest(device.pendingAuthRequest)"
        (keydown.enter)="managePendingAuthRequest(device.pendingAuthRequest)"
      >
        <!-- Default Content -->
        <span>{{ device.displayName }}</span>

        <!-- Default Trailing Content -->
        <span class="tw-flex tw-justify-end" slot="default-trailing">
          <span bitBadge variant="warning">
            {{ "requestPending" | i18n }}
          </span>
        </span>

        <!-- Secondary Content -->
        <span slot="secondary" class="tw-text-sm">
          <span>{{ "needsApproval" | i18n }}</span>
          <div>
            <span class="tw-font-semibold"> {{ "firstLogin" | i18n }}: </span>
            <span>{{ device.firstLogin | date: "short" }}</span>
          </div>
        </span>
      </button>
    } @else {
      <bit-item-content>
        <!-- Default Content -->
        <span class="tw-text-base">{{ device.displayName }}</span>

        <!-- Default Trailing Content -->
        <div *ngIf="device.isCurrentDevice" class="tw-flex tw-justify-end" slot="default-trailing">
          <span bitBadge variant="primary">
            {{ "currentSession" | i18n }}
          </span>
        </div>

        <!-- Secondary Content -->
        <div slot="secondary" class="tw-text-sm">
          @if (device.isTrusted) {
            <span>{{ "trusted" | i18n }}</span>
          } @else {
            <br />
          }
          <div>
            <span class="tw-font-semibold">{{ "firstLogin" | i18n }}: </span>
            <span>{{ device.firstLogin | date: "short" }}</span>
          </div>
        </div>
      </bit-item-content>
    }
  </bit-item>
</bit-item-group>
